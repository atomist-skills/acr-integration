var window=global;var $CLJS=require("./cljs_env");require("./goog.base.js");require("./cljs.core.js");require("./goog.uri.uri.js");require("./cljs_node_io.streams.js");require("./cljs_node_io.fs.js");
var YK,ZK,$K,aL,cL,dL,eL,fL,gL,hL,iL,jL,kL,WK;$CLJS.XK=function(){this.K=WK;this.P=2;this.V=0};YK=function(a){a=a.mode;a=[a&256,a&128,a&64,a&32,a&16,a&8,a&4,a&2,a&1];for(var b=a.length,c=$CLJS.ib(a),d=0;;)if(d<b)c[d]=0!==a[d]?1:0,d+=1;else return c};ZK=function(a){try{var b=$CLJS.TK.statSync(a)}catch(c){if(c instanceof Error)b=!1;else throw c;}return $CLJS.db(b)?!1:b.isDirectory()};$K=function(a){return $CLJS.UK.dirname(a)};
aL=function(a,b,c){return $CLJS.TK.writeFileSync(a,b,{flag:function(){var d=$CLJS.Ni.h(c);return $CLJS.r(d)?d:$CLJS.r($CLJS.Rl.h(c))?"a":"w"}(),mode:function(){var d=$CLJS.Pi.h(c);return $CLJS.r(d)?d:438}(),encoding:function(){var d=$CLJS.Ql.h(c);return $CLJS.r(d)?d:"utf8"}()})};$CLJS.bL=function(a,b){return $CLJS.bc($CLJS.Dd(function(c,d){return $CLJS.r(a.h?a.h(d):a.call(null,d))?$CLJS.Bf.g(c,d):c},$CLJS.$b($CLJS.Jf),b))};
cL=function(a,b,c){var d=$CLJS.Fl(new $CLJS.XK);$CLJS.TK.writeFile(a,b,{flag:function(){var e=$CLJS.Ni.h(c);return $CLJS.r(e)?e:$CLJS.r($CLJS.Rl.h(c))?"a":"w"}(),mode:function(){var e=$CLJS.Pi.h(c);return $CLJS.r(e)?e:438}(),encoding:function(){var e=$CLJS.Ql.h(c);return $CLJS.r(e)?e:"utf8"}()},function(){function e(h){var g=null;if(0<arguments.length){g=0;for(var k=Array(arguments.length-0);g<k.length;)k[g]=arguments[g+0],++g;g=new $CLJS.Bc(k,0,null)}return f.call(this,g)}function f(h){return $CLJS.Hl(d,
$CLJS.Kf(h))}e.ba=0;e.aa=function(h){h=$CLJS.B(h);return f(h)};e.v=f;return e}());return d};dL=function(a,b){var c=$CLJS.Fl(new $CLJS.XK);$CLJS.TK.readFile(a,b,function(){function d(f){var h=null;if(0<arguments.length){h=0;for(var g=Array(arguments.length-0);h<g.length;)g[h]=arguments[h+0],++h;h=new $CLJS.Bc(g,0,null)}return e.call(this,h)}function e(f){return $CLJS.Hl(c,$CLJS.Kf(f))}d.ba=0;d.aa=function(f){f=$CLJS.B(f);return e(f)};d.v=e;return d}());return c};
eL=function(a){var b=$CLJS.xa(a),c=$CLJS.pk(a);return $CLJS.Ij.l($CLJS.Ee,$CLJS.Gj.g($CLJS.mf($CLJS.Ye(function(d){return $CLJS.G.g($CLJS.H(d,0),"_checkModeProperty")})),$CLJS.Hh.h(function(d){var e=$CLJS.K(d,0,null);d=$CLJS.K(d,1,null);return new $CLJS.T(null,2,5,$CLJS.U,[$CLJS.Ih.h(e),$CLJS.id(d)?d.apply(a):d],null)})),$CLJS.Hh.l($CLJS.Lj,b,c))};
fL=function(a,b,c){var d=new $CLJS.T(null,2,5,$CLJS.U,[b,c],null);if($CLJS.r(function(){var e=new $CLJS.T(null,2,5,$CLJS.U,[!0,!0],null);return $CLJS.G.g?$CLJS.G.g(e,d):$CLJS.G.call(null,e,d)}()))return a|256;if($CLJS.r(function(){var e=new $CLJS.T(null,2,5,$CLJS.U,[!1,!0],null);return $CLJS.G.g?$CLJS.G.g(e,d):$CLJS.G.call(null,e,d)}()))return a&-257;if($CLJS.r(function(){var e=new $CLJS.T(null,2,5,$CLJS.U,[!0,!1],null);return $CLJS.G.g?$CLJS.G.g(e,d):$CLJS.G.call(null,e,d)}()))return a|292;if($CLJS.r(function(){var e=
new $CLJS.T(null,2,5,$CLJS.U,[!1,!1],null);return $CLJS.G.g?$CLJS.G.g(e,d):$CLJS.G.call(null,e,d)}()))return a&-293;throw Error(["No matching clause: ",$CLJS.t.h(d)].join(""));};gL=function(a,b,c){var d=parseInt(YK($CLJS.TK.statSync(a)).join(""),2);b=fL(d,b,c);return $CLJS.TK.chmodSync(a,b)};
hL=function(a,b,c){var d=new $CLJS.T(null,2,5,$CLJS.U,[b,c],null);if($CLJS.r(function(){var e=new $CLJS.T(null,2,5,$CLJS.U,[!0,!0],null);return $CLJS.G.g?$CLJS.G.g(e,d):$CLJS.G.call(null,e,d)}()))return a|128;if($CLJS.r(function(){var e=new $CLJS.T(null,2,5,$CLJS.U,[!1,!0],null);return $CLJS.G.g?$CLJS.G.g(e,d):$CLJS.G.call(null,e,d)}()))return a&-129;if($CLJS.r(function(){var e=new $CLJS.T(null,2,5,$CLJS.U,[!0,!1],null);return $CLJS.G.g?$CLJS.G.g(e,d):$CLJS.G.call(null,e,d)}()))return a|146;if($CLJS.r(function(){var e=
new $CLJS.T(null,2,5,$CLJS.U,[!1,!1],null);return $CLJS.G.g?$CLJS.G.g(e,d):$CLJS.G.call(null,e,d)}()))return a&-147;throw Error(["No matching clause: ",$CLJS.t.h(d)].join(""));};iL=function(a,b,c){var d=parseInt(YK($CLJS.TK.statSync(a)).join(""),2);b=hL(d,b,c);return $CLJS.TK.chmodSync(a,b)};
jL=function(a,b,c){var d=new $CLJS.T(null,2,5,$CLJS.U,[b,c],null);if($CLJS.r(function(){var e=new $CLJS.T(null,2,5,$CLJS.U,[!0,!0],null);return $CLJS.G.g?$CLJS.G.g(e,d):$CLJS.G.call(null,e,d)}()))return a|64;if($CLJS.r(function(){var e=new $CLJS.T(null,2,5,$CLJS.U,[!1,!0],null);return $CLJS.G.g?$CLJS.G.g(e,d):$CLJS.G.call(null,e,d)}()))return a&-65;if($CLJS.r(function(){var e=new $CLJS.T(null,2,5,$CLJS.U,[!0,!1],null);return $CLJS.G.g?$CLJS.G.g(e,d):$CLJS.G.call(null,e,d)}()))return a|73;if($CLJS.r(function(){var e=
new $CLJS.T(null,2,5,$CLJS.U,[!1,!1],null);return $CLJS.G.g?$CLJS.G.g(e,d):$CLJS.G.call(null,e,d)}()))return a&-74;throw Error(["No matching clause: ",$CLJS.t.h(d)].join(""));};kL=function(a,b,c){var d=parseInt(YK($CLJS.TK.statSync(a)).join(""),2);b=jL(d,b,c);return $CLJS.TK.chmodSync(a,b)};$CLJS.lL=function(a){this.Ja=a;this.P=2149580800;this.V=0};WK={};$CLJS.n=$CLJS.XK.prototype;$CLJS.n.rf=function(){return!1};$CLJS.n.Me=function(){return this.K};
$CLJS.n.ag=function(a,b){WK===this.K&&(this.K=b);return this};$CLJS.n.Pg=function(){WK===this.K&&(this.K=null)};$CLJS.n.pa=function(){return WK===this.K?0:1};$CLJS.n=$CLJS.lL.prototype;$CLJS.n.cg=$CLJS.x;$CLJS.n.ga=function(a,b){a=$CLJS.uh(function(c){return c.getPath},$CLJS.fb);return $CLJS.G.g(a(this),a(b))};$CLJS.n.tf=$CLJS.Ga(44);$CLJS.n.uf=$CLJS.x;$CLJS.n.Od=$CLJS.Ga(40);$CLJS.n.Pd=$CLJS.Ga(42);$CLJS.n.rd=$CLJS.Ga(41);$CLJS.n.sd=$CLJS.Ga(43);$CLJS.n.la=function(a,b){$CLJS.Xb(b,"#object [cljs-node-io.File");return $CLJS.Xb(b,["  ",$CLJS.t.h(this.getPath())," ]"].join(""))};
$CLJS.n.canExecute=function(){var a=this.Ja;if($CLJS.G.g("win32",process.platform))throw Error("Testing if a file is executable has no effect on Windows");try{$CLJS.TK.accessSync(a,$CLJS.TK.X_OK);var b=!0}catch(c){if(c instanceof Error)b=!1;else throw c;}return b};$CLJS.n.isDirectory=function(){return ZK(this.Ja)};$CLJS.n.getParent=function(){return $K(this.Ja)};
$CLJS.n.setReadable=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return gL(this.Ja,b,!0);case 2:return gL(this.Ja,b,c)}throw Error("Invalid arity: "+arguments.length);};a.h=function(b){return gL(this.Ja,b,!0)};a.g=function(b,c){return gL(this.Ja,b,c)};return a}();$CLJS.n.canWrite=function(){try{$CLJS.TK.accessSync(this.Ja,$CLJS.TK.W_OK);var a=!0}catch(b){if(b instanceof Error)a=!1;else throw b;}return a};$CLJS.n.stats=function(){return eL($CLJS.TK.statSync(this.Ja))};
$CLJS.n.getName=function(){return $CLJS.UK.basename(this.Ja)};$CLJS.n.exists=function(){try{$CLJS.TK.accessSync(this.Ja,$CLJS.TK.F_OK);var a=!0}catch(b){if(b instanceof Error)a=!1;else throw b;}return a};$CLJS.n.setLastModified=function(a){return $CLJS.TK.utimesSync(this.Ja,a,a)};$CLJS.n.canRead=function(){try{$CLJS.TK.accessSync(this.Ja,$CLJS.TK.R_OK);var a=!0}catch(b){if(b instanceof Error)a=!1;else throw b;}return a};
$CLJS.n.createNewFile=function(){try{return this.write("",new $CLJS.q(null,1,[$CLJS.Ni,"wx"],null)),!0}catch(a){if(a instanceof Error)return!1;throw a;}};$CLJS.n.isAbsolute=function(){var a=this.Ja;return $CLJS.UK.isAbsolute.h?$CLJS.UK.isAbsolute.h(a):$CLJS.UK.isAbsolute.call(null,a)};
$CLJS.n.read=function(){function a(){return $CLJS.TK.readFileSync(this.Ja,"utf8")}var b=null;b=function(c){switch(arguments.length){case 0:return a.call(this);case 1:return $CLJS.TK.readFileSync(this.Ja,c)}throw Error("Invalid arity: "+arguments.length);};b.N=a;b.h=function(c){return $CLJS.TK.readFileSync(this.Ja,c)};return b}();
$CLJS.n.listFiles=function(){function a(d){var e=this.listFiles();return $CLJS.r(e)?$CLJS.bL($CLJS.bf(d,this.Ja),e):null}function b(){var d=this;return $CLJS.sl(function(e){return new $CLJS.lL([$CLJS.t.h(d.Ja),$CLJS.t.h($CLJS.VK),$CLJS.t.h(e)].join(""))},this.list())}var c=null;c=function(d){switch(arguments.length){case 0:return b.call(this);case 1:return a.call(this,d)}throw Error("Invalid arity: "+arguments.length);};c.N=b;c.h=a;return c}();
$CLJS.n.mkdir=function(){try{return $CLJS.TK.mkdirSync(this.Ja),!0}catch(a){if(a instanceof Error)return!1;throw a;}};$CLJS.n.isFile=function(){try{var a=$CLJS.TK.lstatSync(this.Ja)}catch(b){if(b instanceof Error)a=!1;else throw b;}return $CLJS.db(a)?!1:a.isFile()};$CLJS.n.toURI=function(){return new $CLJS.yl(["file:",$CLJS.t.h(this.Ja)].join(""))};
$CLJS.n.mkdirs=function(){var a=this.getPath();a=$CLJS.Xd($CLJS.ph($CLJS.Ye(ZK),new $CLJS.wl(null,$K,null,a,null)));try{var b=$CLJS.B(a);a=null;for(var c=0,d=0;;)if(d<c){var e=a.La(null,d);$CLJS.TK.mkdirSync(e);d+=1}else{var f=$CLJS.B(b);if(f){var h=f;if($CLJS.ud(h)){var g=$CLJS.gc(h),k=$CLJS.hc(h);h=g;var l=$CLJS.F(g);b=k;a=h;c=l}else{var m=$CLJS.C(h);$CLJS.TK.mkdirSync(m);b=$CLJS.D(h);a=null;c=0}d=0}else break}return!0}catch(p){if(p instanceof Error)return!1;throw p;}};
$CLJS.n.setReadOnly=function(){return this.setWritable(!1,!1)};$CLJS.n.getCanonicalFile=function(){return new $CLJS.lL(this.getCanonicalPath())};$CLJS.n.getAbsoluteFile=function(){return new $CLJS.lL(this.getAbsolutePath())};$CLJS.n.getExt=function(){return $CLJS.UK.extname(this.Ja)};$CLJS.n.delete=function(){try{var a=this.Ja;ZK(a)?$CLJS.TK.rmdirSync(a):$CLJS.TK.unlinkSync(a);return!0}catch(b){if(b instanceof Error)return!1;throw b;}};$CLJS.n.getPath=function(){return this.Ja};$CLJS.n.toString=function(){return this.Ja};
$CLJS.n.equals=function(a){return $CLJS.G.g(this,a)};$CLJS.n.aread=function(){function a(){return dL(this.Ja,"utf8")}var b=null;b=function(c){switch(arguments.length){case 0:return a.call(this);case 1:return dL(this.Ja,c)}throw Error("Invalid arity: "+arguments.length);};b.N=a;b.h=function(c){return dL(this.Ja,c)};return b}();$CLJS.n.write=function(a,b){return aL(this.Ja,a,b)};
$CLJS.n.renameTo=function(a){try{return $CLJS.TK.renameSync(this.Ja,a),$CLJS.TK.unlinkSync(this.Ja),this.Ja=a,!0}catch(b){if(b instanceof Error)return!1;throw b;}};$CLJS.n.deleteOnExit=function(){var a=this;return process.on("exit",function(){return a.delete()})};
$CLJS.n.setExecutable=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return kL(this.Ja,b,!0);case 2:return kL(this.Ja,b,c)}throw Error("Invalid arity: "+arguments.length);};a.h=function(b){return kL(this.Ja,b,!0)};a.g=function(b,c){return kL(this.Ja,b,c)};return a}();$CLJS.n.hashCode=function(){return $CLJS.wc(this.Ja)};$CLJS.n.lastModified=function(){try{var a=$CLJS.TK.statSync(this.Ja)}catch(b){if(b instanceof Error)a=!1;else throw b;}return $CLJS.r(a)?a.Lk.valueOf():0};
$CLJS.n.setWritable=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return iL(this.Ja,b,!0);case 2:return iL(this.Ja,b,c)}throw Error("Invalid arity: "+arguments.length);};a.h=function(b){return iL(this.Ja,b,!0)};a.g=function(b,c){return iL(this.Ja,b,c)};return a}();
$CLJS.n.list=function(){function a(d){var e=this.list();return $CLJS.r(e)?$CLJS.bL($CLJS.bf(d,this.Ja),e):null}function b(){if(ZK(this.Ja))try{return $CLJS.Kf($CLJS.TK.readdirSync(this.Ja))}catch(d){if(d instanceof Error)return null;throw d;}else return null}var c=null;c=function(d){switch(arguments.length){case 0:return b.call(this);case 1:return a.call(this,d)}throw Error("Invalid arity: "+arguments.length);};c.N=b;c.h=a;return c}();
$CLJS.n.length=function(){try{var a=$CLJS.TK.statSync(this.Ja)}catch(b){if(b instanceof Error)a=!1;else throw b;}return $CLJS.r(a)?$CLJS.r(a.isDirectory())?null:a.size:0};$CLJS.n.getAbsolutePath=function(){return $CLJS.TK.realpathSync(this.Ja)};$CLJS.n.getCanonicalPath=function(){return $CLJS.UK.normalize(this.Ja)};$CLJS.n.awrite=function(a,b){return cL(this.Ja,a,b)};$CLJS.n.getParentFile=function(){return new $CLJS.lL(this.getParent())};$CLJS.n.isHidden=function(){return/(^|\/)\.[^\/\.]/.test(this.Ja)};